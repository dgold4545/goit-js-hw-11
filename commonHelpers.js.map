{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const API_KEY = \"44734756-d98c11aebccc1bae684f0851d\";\n\nexport function createFetchRequest(userRequest) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const options = new URLSearchParams({\n    key: API_KEY,\n    q: userRequest,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  const URL = `${BASE_URL}${END_POINT}?${options}`;\n\n  const myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\",\n  };\n\n  return fetch(URL, { options, requestOptions }).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","// ? Галерея і картки зображень\nexport function createItemMarkup(data) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = data;\n  return `<li class=\"list__card\">\n            <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n            <ul>\n              <li>\n                <p>Likes</p>\n                <p>${likes}</p>\n              </li>\n              <li>\n                <p>Views</p>\n                <p>${views}</p>\n              </li>\n              <li>\n                <p>Comments</p>\n                <p>${comments}</p>\n              </li>\n              <li>\n                <p>Downloads</p>\n                <p>${downloads}</p>\n              </li>\n            </ul>\n          </li>`;\n}\n\nexport function createListMarkup(arr) {\n  return arr.map(createItemMarkup).join(\"\");\n}\n\nexport function createPreLoader() {\n  return `<li class='pre-loader'>\n    <div class='loader'></div>\n  </li>`;\n}\n","// ?Форма пошуку\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// ? import HTTP-запити\nimport * as pixabayapi from \"./js/pixabay-api\";\n//  ? import Галерея і картки зображень\nimport * as renderfunctions from \"./js/render-functions\";\n\nconst refsEl = {\n  form: document.querySelector(\".js-form\"),\n  list: document.querySelector(\".js-list\"),\n};\n\nrefsEl.form.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n\n  const thisCurrentTarget = event.currentTarget;\n\n  const normalizedInputValue = thisCurrentTarget.elements.query.value\n    .trim()\n    .toLowerCase();\n\n  if (!normalizedInputValue) {\n    return;\n  }\n  const preloader = renderfunctions.createPreLoader();\n  refsEl.list.insertAdjacentHTML(\"afterbegin\", preloader);\n  //? HTTP-запити\n\n  pixabayapi\n    .createFetchRequest(normalizedInputValue)\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.error({\n          title: \"Caution\",\n          position: \"topRight\",\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      }\n\n      //?  Галерея і картки зображень\n      const markup = renderfunctions.createListMarkup(data.hits);\n      refsEl.list.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      thisCurrentTarget.reset();\n      var lightbox = new SimpleLightbox(\".js-list a\", {\n        /* options */\n      });\n    });\n}\n"],"names":["API_KEY","createFetchRequest","userRequest","BASE_URL","END_POINT","options","URL","myHeaders","response","createItemMarkup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createListMarkup","arr","createPreLoader","refsEl","handlerSubmit","event","thisCurrentTarget","normalizedInputValue","preloader","renderfunctions.createPreLoader","pixabayapi\n    .createFetchRequest","iziToast","markup","renderfunctions.createListMarkup","error","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAU,qCAEhB,SAASC,EAAmBC,EAAa,CAC9C,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,IAAI,gBAAgB,CAClC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAO,GAExCE,EAAY,IAAI,QACtB,OAAAA,EAAU,OAAO,eAAgB,kBAAkB,EAQ5C,MAAMD,EAAK,CAAE,QAAAD,EAAS,eANN,CACrB,OAAQ,MACR,QAASE,EACT,SAAU,QACd,EAE+C,EAAE,KAAKC,GAAY,CAC9D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CC7BO,SAASC,EAAiBC,EAAM,CACrC,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,uBACcE,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,qBAIxDC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA,gBAI9B,CAEO,SAASC,EAAiBC,EAAK,CACpC,OAAOA,EAAI,IAAIV,CAAgB,EAAE,KAAK,EAAE,CAC1C,CAEO,SAASW,GAAkB,CAChC,MAAO;AAAA;AAAA,QAGT,CCzBA,MAAMC,EAAS,CACb,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAO,KAAK,iBAAiB,SAAUC,CAAa,EAEpD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAoBD,EAAM,cAE1BE,EAAuBD,EAAkB,SAAS,MAAM,MAC3D,KAAM,EACN,cAEH,GAAI,CAACC,EACH,OAEF,MAAMC,EAAYC,IAClBN,EAAO,KAAK,mBAAmB,aAAcK,CAAS,EAGtDE,EACsBH,CAAoB,EACvC,KAAKf,GAAQ,CACPA,EAAK,KAAK,QACbmB,EAAS,MAAM,CACb,MAAO,UACP,SAAU,WACV,QACE,0EACZ,CAAS,EAIH,MAAMC,EAASC,EAAiCrB,EAAK,IAAI,EACzDW,EAAO,KAAK,UAAYS,CAC9B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbR,EAAkB,MAAK,EACR,IAAIS,EAAe,aAAc,CAEtD,CAAO,CACP,CAAK,CACL"}