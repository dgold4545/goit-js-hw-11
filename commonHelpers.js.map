{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// ?Форма пошуку\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refsEl = {\n  form: document.querySelector(\".js-form\"),\n  list: document.querySelector(\".js-list\"),\n};\n\nrefsEl.form.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n\n  const thisCurrentTarget = event.currentTarget;\n\n  const normalizedInputValue = thisCurrentTarget.elements.query.value\n    .trim()\n    .toLowerCase();\n\n  if (!normalizedInputValue) {\n    return;\n  }\n\n  //? HTTP-запити\n\n  createFetchRequest(normalizedInputValue)\n    .then(data => {\n      console.log(data.hits);\n      if (!data.hits.length) {\n        iziToast.error({\n          title: \"Caution\",\n          position: \"topRight\",\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nconst API_KEY = \"44734756-d98c11aebccc1bae684f0851d\";\n\nfunction createFetchRequest(userRequest) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const options = new URLSearchParams({\n    key: API_KEY,\n    q: userRequest,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  const URL = `${BASE_URL}${END_POINT}?${options}`;\n\n  const myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n\n  const requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\",\n  };\n\n  return fetch(URL, { options, requestOptions }).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n"],"names":["refsEl","handlerSubmit","event","normalizedInputValue","createFetchRequest","data","iziToast","error","API_KEY","userRequest","BASE_URL","END_POINT","options","URL","myHeaders","response"],"mappings":"svBAOA,MAAMA,EAAS,CACb,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAO,KAAK,iBAAiB,SAAUC,CAAa,EAEpD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EAIpB,MAAMC,EAFoBD,EAAM,cAEe,SAAS,MAAM,MAC3D,KAAM,EACN,cAEEC,GAMLC,EAAmBD,CAAoB,EACpC,KAAKE,GAAQ,CACZ,QAAQ,IAAIA,EAAK,IAAI,EAChBA,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,MAAO,UACP,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,MAAMC,EAAU,qCAEhB,SAASJ,EAAmBK,EAAa,CACvC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,IAAI,gBAAgB,CAClC,IAAKJ,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAO,GAExCE,EAAY,IAAI,QACtB,OAAAA,EAAU,OAAO,eAAgB,kBAAkB,EAQ5C,MAAMD,EAAK,CAAE,QAAAD,EAAS,eANN,CACrB,OAAQ,MACR,QAASE,EACT,SAAU,QACd,EAE+C,EAAE,KAAKC,GAAY,CAC9D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH"}